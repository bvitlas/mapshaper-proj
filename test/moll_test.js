var assert = require('assert'),
    api = require('../'),
    helpers = require('./helpers');

describe('moll.js', function () {

  var fwd_in = [
    [ 2, 1],
    [ 2,-1],
    [-2, 1],
    [-2,-1]
  ];

  var inv_in = [
    [ 200, 100],
    [ 200,-100],
    [-200, 100],
    [-200,-100]
  ];

  describe('Mollweide', function () {

    var s_fwd_expect = [
    [201113.698641813244,  124066.283433859542],
    [201113.698641813244,  -124066.283433859542],
    [-201113.698641813244,  124066.283433859542],
    [-201113.698641813244,  -124066.283433859542]
    ];

    var s_inv_expect = [
    [0.00198873782220854774,  0.000806005080362811612],
    [0.00198873782220854774,  -0.000806005080362811612],
    [-0.00198873782220854774,  0.000806005080362811612],
    [-0.00198873782220854774,  -0.000806005080362811612]
    ];

    var sargs = "+proj=moll   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })


  describe('Wagner IV', function () {

    var s_fwd_expect = [
    [ 192801.218662384286,  129416.216394802992],
    [ 192801.218662384286, -129416.216394802992],
    [-192801.218662384286,  129416.216394802992],
    [-192801.218662384286, -129416.216394802992]
    ];

    var s_inv_expect = [
    [ 0.00207450259783523421, 0.000772682950537716476],
    [ 0.00207450259783523421, -0.000772682950537716476],
    [-0.00207450259783523421,  0.000772682950537716476],
    [-0.00207450259783523421, -0.000772682950537716476]
    ];

    var sargs = "+proj=wag4   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

  describe('Wagner V', function () {

    var s_fwd_expect = [
    [ 203227.05192532466,  138651.631442713202],
    [ 203227.05192532466, -138651.631442713202],
    [-203227.05192532466,  138651.631442713202],
    [-203227.05192532466, -138651.631442713202]
    ];

    var s_inv_expect = [
    [ 0.00196807227086416396,  0.00072121615041701424],
    [ 0.00196807227086416396, -0.00072121615041701424],
    [-0.00196807227086416396,  0.00072121615041701424],
    [-0.00196807227086416396, -0.00072121615041701424]
    ];

    var sargs = "+proj=wag5   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

});
