var assert = require('assert'),
    api = require('../../'),
    helpers = require('../helpers');

describe('aea.js', function () {

  var fwd_in = [
    [ 2, 1],
    [ 2,-1],
    [-2, 1],
    [-2,-1]
  ];

  var inv_in = [
    [ 200, 100],
    [ 200,-100],
    [-200, 100],
    [-200,-100]
  ];

  describe('Albers Equal Area', function () {

    var s_fwd_expect = [
      [223334.08517088494,  111780.43188447191],
      [223470.15499168713,  -111610.33943099028],
      [-223334.08517088494,  111780.43188447191],
      [-223470.15499168713,  -111610.33943099028]
    ];

    var s_inv_expect = [
      [0.0017904935979658752,  0.00089524594491375306],
      [0.0017904926216016812,  -0.00089524716502493225],
      [-0.0017904935979658752,  0.00089524594491375306],
      [-0.0017904926216016812,  -0.00089524716502493225]
    ];

    var e_fwd_expect = [
      [222571.60875710563,  110653.32674302977],
      [222706.30650839131,  -110484.26714439997],
      [-222571.60875710563,  110653.32674302977],
      [-222706.30650839131,  -110484.26714439997]
    ];

    var e_inv_expect = [
      [0.0017966310597749514,  0.00090436885862202158],
      [0.0017966300767030448,  -0.00090437009538581453],
      [-0.0017966310597749514,  0.00090436885862202158],
      [-0.0017966300767030448,  -0.00090437009538581453]
    ];

    var sargs = "+proj=aea   +R=6400000    +lat_1=0 +lat_2=2";
    var eargs = "+proj=aea   +ellps=GRS80  +lat_1=0 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
    helpers.fwd_test(eargs, fwd_in, e_fwd_expect);
    helpers.inv_test(eargs, inv_in, e_inv_expect);
  })

  describe('Lambert Equal Area Conic', function () {
    var s_fwd_expect = [
      [221432.86859285168,  114119.45452653214],
      [225331.72412711097,  -109245.82943505641],
      [-221432.86859285168,  114119.45452653214],
      [-225331.72412711097,  -109245.82943505641]
    ];

    var s_inv_expect = [
      [0.0017905070979748127,  0.00089522906964877795],
      [0.001790479121519977,  -0.00089526404022281043],
      [-0.0017905070979748127,  0.00089522906964877795],
      [-0.001790479121519977,  -0.00089526404022281043]
    ];

    var e_fwd_expect = [
      [220685.14054297868,  112983.50088939646],
      [224553.31227982609,  -108128.63674487274],
      [-220685.14054297868,  112983.50088939646],
      [-224553.31227982609,  -108128.63674487274]
    ];

    var e_inv_expect = [
      [0.0017966446840328458,  0.00090435171340223211],
      [0.0017966164523713021,  -0.00090438724081843625],
      [-0.0017966446840328458,  0.00090435171340223211],
      [-0.0017966164523713021,  -0.00090438724081843625]
    ];

    var sargs = "+proj=leac   +a=6400000    +lat_1=0 +lat_2=2";
    var eargs = "+proj=leac   +ellps=GRS80  +lat_1=0 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
    helpers.fwd_test(eargs, fwd_in, e_fwd_expect);
    helpers.inv_test(eargs, inv_in, e_inv_expect);
  })

});
