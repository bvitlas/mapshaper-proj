var assert = require('assert'),
    api = require('../../'),
    helpers = require('../helpers');

describe('wag.js', function () {

  var fwd_in = [
    [ 2, 1],
    [ 2,-1],
    [-2, 1],
    [-2,-1]
  ];

  var inv_in = [
    [ 200, 100],
    [ 200,-100],
    [-200, 100],
    [-200,-100]
  ];

  describe('Sinusoidal (Sanson-Flamsteed)', function () {

    var s_fwd_expect = [
    [ 223368.11902663155,  111701.07212763709],
    [ 223368.11902663155, -111701.07212763709],
    [-223368.11902663155,  111701.07212763709],
    [-223368.11902663155, -111701.07212763709]
    ];

    var s_inv_expect = [
    [ 0.0017904931100023887,  0.00089524655489191132],
    [ 0.0017904931100023887, -0.00089524655489191132],
    [-0.0017904931100023887,  0.00089524655489191132],
    [-0.0017904931100023887, -0.00089524655489191132]
    ];

    var e_fwd_expect = [
    [ 222605.29953946592,  110574.38855415257],
    [ 222605.29953946592, -110574.38855415257],
    [-222605.29953946592,  110574.38855415257],
    [-222605.29953946592, -110574.38855415257]
    ];

    var e_inv_expect = [
    [ 0.0017966305684613522,  0.00090436947707945409],
    [ 0.0017966305684613522, -0.00090436947707945409],
    [-0.0017966305684613522,  0.00090436947707945409],
    [-0.0017966305684613522, -0.00090436947707945409]
    ];

    var sargs = "+proj=sinu   +a=6400000    +lat_1=0.5 +lat_2=2";
    var eargs = "+proj=sinu   +ellps=GRS80  +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
    helpers.fwd_test(eargs, fwd_in, e_fwd_expect);
    helpers.inv_test(eargs, inv_in, e_inv_expect);
  })

  describe('Eckert VI', function () {

    var s_fwd_expect = [
    [ 197021.60562899226,  126640.42073317352],
    [ 197021.60562899226, -126640.42073317352],
    [-197021.60562899226,  126640.42073317352],
    [-197021.60562899226, -126640.42073317352]
    ];

    var s_inv_expect = [
    [ 0.002029978749734037,  0.00078963032910382171],
    [ 0.002029978749734037, -0.00078963032910382171],
    [-0.002029978749734037,  0.00078963032910382171],
    [-0.002029978749734037, -0.00078963032910382171]
    ];

    var sargs = "+proj=eck6   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

  describe('McBryde-Thomas Flat-Polar Sinusoidal', function () {

    var s_fwd_expect = [
    [ 204740.11747857218,  121864.72971934026],
    [ 204740.11747857218, -121864.72971934026],
    [-204740.11747857218,  121864.72971934026],
    [-204740.11747857218, -121864.72971934026]
    ];

    var s_inv_expect = [
    [ 0.0019534152166442065,  0.00082057965689633387],
    [ 0.0019534152166442065, -0.00082057965689633387],
    [-0.0019534152166442065,  0.00082057965689633387],
    [-0.0019534152166442065, -0.00082057965689633387]
    ];

    var sargs = "+proj=mbtfps   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

  describe('McBryde-Thomas Flat-Polar Sinusoidal', function () {

    var s_fwd_expect = [
    [ 223385.13250469571,  111698.23644718733],
    [ 223385.13250469571, -111698.23644718733],
    [-223385.13250469571,  111698.23644718733],
    [-223385.13250469571, -111698.23644718733]
    ];

    var s_inv_expect = [
    [ 0.0017904931098931057,  0.00089524655491012516],
    [ 0.0017904931098931057, -0.00089524655491012516],
    [-0.0017904931098931057,  0.00089524655491012516],
    [-0.0017904931098931057, -0.00089524655491012516]
    ];

    var sargs = "+proj=gn_sinu   +a=6400000    +lat_1=0.5 +lat_2=2 +m=1 +n=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

});
