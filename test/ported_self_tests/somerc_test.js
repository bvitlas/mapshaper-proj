var assert = require('assert'),
    api = require('../../'),
    helpers = require('../helpers');

describe('somerc.js', function () {

  var fwd_in = [
    [ 2, 1],
    [ 2,-1],
    [-2, 1],
    [-2,-1]
  ];

  var inv_in = [
    [ 200, 100],
    [ 200,-100],
    [-200, 100],
    [-200,-100]
  ];

  describe('Swiss. Obl. Mercator', function () {
    var s_fwd_expect = [
      [223402.14425527418,  111706.74357494408],
      [223402.14425527418,  -111706.74357494518],
      [-223402.14425527418,  111706.74357494408],
      [-223402.14425527418,  -111706.74357494518]
    ];

    var s_inv_expect = [
      [0.0017904931097838226,  0.00089524655485801927],
      [0.0017904931097838226,  -0.00089524655484529714],
      [-0.0017904931097838226,  0.00089524655485801927],
      [-0.0017904931097838226,  -0.00089524655484529714]
    ];

    var e_fwd_expect = [
      [222638.98158654713,  110579.96521824898],
      [222638.98158654713,  -110579.96521825089],
      [-222638.98158654713,  110579.96521824898],
      [-222638.98158654713,  -110579.96521825089]
    ];

    var e_inv_expect = [
      [0.0017966305682390426,  0.00090436947704129484],
      [0.0017966305682390426,  -0.00090436947704377105],
      [-0.0017966305682390426,  0.00090436947704129484],
      [-0.0017966305682390426,  -0.00090436947704377105]
    ];

    var eargs = "+proj=somerc   +ellps=GRS80  +lat_1=0.5 +lat_2=2 +n=0.5";
    var sargs = "+proj=somerc   +R=6400000    +lat_1=0.5 +lat_2=2 +n=0.5";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
    helpers.fwd_test(eargs, fwd_in, e_fwd_expect);
    helpers.inv_test(eargs, inv_in, e_inv_expect);
  })
});
