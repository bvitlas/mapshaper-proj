var assert = require('assert'),
    api = require('../../'),
    helpers = require('../helpers');

describe('mbt_fpp.js, mbt_fpq.js, mbt_fps.js', function () {

  var fwd_in = [
    [ 2, 1],
    [ 2,-1],
    [-2, 1],
    [-2,-1]
  ];

  var inv_in = [
    [ 200, 100],
    [ 200,-100],
    [-200, 100],
    [-200,-100]
  ];

  describe('McBride-Thomas Flat-Polar Parabolic', function () {
    var s_fwd_expect = [
      [206804.786929820373,  120649.762565792524],
      [206804.786929820373,  -120649.762565792524],
      [-206804.786929820373,  120649.762565792524],
      [-206804.786929820373,  -120649.762565792524]
    ];

    var s_inv_expect = [
      [0.00193395359462902698,  0.00082883725477665357],
      [0.00193395359462902698,  -0.00082883725477665357],
      [-0.00193395359462902698,  0.00082883725477665357],
      [-0.00193395359462902698,  -0.00082883725477665357]
    ];

    var sargs = "+proj=mbt_fpp   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

  describe('McBryde-Thomas Flat-Polar Quartic', function () {
    var s_fwd_expect = [
      [ 209391.854738393013,  119161.040199054827],
      [ 209391.854738393013, -119161.040199054827],
      [-209391.854738393013,  119161.040199054827],
      [-209391.854738393013, -119161.040199054827]
    ];

    var s_inv_expect = [
      [ 0.00191010555824111571,  0.000839185447792341723],
      [ 0.00191010555824111571, -0.000839185447792341723],
      [-0.00191010555824111571,  0.000839185447792341723],
      [-0.00191010555824111571, -0.000839185447792341723]
    ];

    var sargs = "+proj=mbt_fpq   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

  describe('McBryde-Thomas Flat-Pole Sine (No. 2)', function () {
    var s_fwd_expect = [
      [ 198798.176129849948,  125512.017254530627],
      [ 198798.176129849948, -125512.017254530627],
      [-198798.176129849948,  125512.017254530627],
      [-198798.176129849948, -125512.017254530627]
    ];

    var s_inv_expect = [
      [ 0.00201197086238270742,  0.000796711850174446003],
      [ 0.00201197086238270742, -0.000796711850174446003],
      [-0.00201197086238270742,  0.000796711850174446003],
      [-0.00201197086238270742, -0.000796711850174446003]
    ];

    var sargs = "+proj=mbt_fps   +a=6400000    +lat_1=0.5 +lat_2=2";

    helpers.fwd_test(sargs, fwd_in, s_fwd_expect);
    helpers.inv_test(sargs, inv_in, s_inv_expect);
  })

});
